# 327. Count of Range Sum

[Original Page](https://leetcode.com/problems/count-of-range-sum/)

Given an integer array `nums`, return the number of range sums that lie in `[lower, upper]` inclusive.  
Range sum `S(i, j)` is defined as the sum of the elements in `nums` between indices `i` and `j` (`i` â‰¤ `j`), inclusive.

**Note:**  
A naive algorithm of _O_(_n_<sup>2</sup>) is trivial. You MUST do better than that.

**Example:**  
Given _nums_ = `[-2, 5, -1]`, _lower_ = `-2`, _upper_ = `2`,  
Return `3`.  
The three ranges are : `[0, 0]`, `[2, 2]`, `[0, 2]` and their respective sums are: `-2, -1, 2`.

**Credits:**  
Special thanks to [@dietpepsi](https://leetcode.com/discuss/user/dietpepsi) for adding this problem and creating all test cases.

<div>

[Subscribe](/subscribe/) to see which companies asked this question

</div>

<div>

<div id="company_tags" class="btn btn-xs btn-warning">Show Company Tags</div>

<span class="hidebutton">[Google](/company/google/)</span></div>

<div>

<div id="tags" class="btn btn-xs btn-warning">Hide Tags</div>

<span class="hidebutton" style="display: inline;">[Divide and Conquer](/tag/divide-and-conquer/) [Binary Search Tree](/tag/binary-search-tree/)</span></div>

<div>

<div id="similar" class="btn btn-xs btn-warning">Show Similar Problems</div>

<span class="hidebutton">[(H) Count of Smaller Numbers After Self](/problems/count-of-smaller-numbers-after-self/)</span></div>